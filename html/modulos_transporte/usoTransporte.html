<!DOCTYPE html>
<html>
<head>
<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<!--Import materialize.css-->
<!--<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">
<!--estilo css personal-->
<link type="text/css" rel="stylesheet" href="../css/style.css"  media="screen,projection"/>
<!--meta para caracteres especiales-->
<meta charset="UTF-8">
<!--Let browser know website is optimized for mobile-->
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
  <div class="navbar-fixed">
    <nav class="top-nav teal z-depth-0 nav-extended">
      <div class="nav-wrapper">
      <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>
      <a href="#!" data-activates="enteDrop" data-beloworigin="true" class="brand-logo dropdown-button logo-enterprise"><img src="http://www.technologytell.com/gaming/files/2013/02/twitch-logo.png" alt="Sesión activa" class="circle responsive-img"> Entreprise</a>
        <ul class="right">
          <li><a href="#" data-activates="slide-help" class="help-collapse"><i class="material-icons">live_help</i></a></li>
          <li><a class="dropdown-button" href="#!" data-activates="notDrop" data-beloworigin="true"><i class="material-icons">add_alert</i></a></li>
        </ul>
      </div><!--/nav-wrapper-->
    </nav><!--/nav-->
  </div>

  <div class="row teal">
    <div class="col s12">
      <a href="#!" class="breadcrumb">Usuario</a>
      <a href="#!" class="breadcrumb">Uso de transporte</a>
    </div>
  </div><!--/breadcrum-->

   <div class="row">
    <div class="right">
      <button class="btn orange waves-effect waves-light" name="action">Guardar y salir</button>
      <button class="waves-effect waves-teal btn-flat teal-text">Cancelar y salir</button>
    </div>
  </div><!--/row buttons-->

<div class="row">

  <div class="col s12 m5">
    <h5>Datos Generales</h5>
    <div class="row">
      <div class="col s6">        
      <label>*Sucursal:</label> 
        <select multiple>
          <option value="" disabled selected>Selecciona...</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </select>
      </div>
      <div class="col s6">
      <label>*Vehículo:</label> 
        <select multiple>
          <option value="" disabled selected>Selecciona...</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </select>
      </div>
      <div class="col s6">        
      <label>*Departamento:</label> 
        <select multiple>
          <option value="" disabled selected>Selecciona...</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </select>
      </div>
      <div class="col s6">
      <label>*Conductor:</label> 
        <select multiple>
          <option value="" disabled selected>Selecciona...</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </select>
      </div>
      <div class="input-field col s6">
        <input id="folio" type="number" class="validate">
        <label for="folio">*Folio:</label>
      </div>
      <div class="col s6">
      <label>Ayudante:</label> 
        <select multiple>
          <option value="" disabled selected>Selecciona...</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </select>
      </div>
      <div class="col 12">
          <label>Destino:</label>
          <input id="pac-input" class="controls" type="text" placeholder="Escribe la ubicación">
          <div id="map"></div>
      </div>
    </div>
  </div>

  <div class="col s12 m7">
    <h5>Datos adicionales</h5>
    <div class="card teal">
      <div class="card-content white-text">
        <p>Ingresa la información de acuerdo a las categorías:</p>
      </div>
      <div class="card-tabs">
        <ul class="tabs tabs-fixed-width tabs-transparent">
          <li class="tab"><a class="active" href="#vehicle"><i class="material-icons">local_shipping</i></a></li>
          <li class="tab"><a href="#performance"><i class="material-icons">invert_colors</i></a></li>
          <li class="tab"><a href="#data-overall"><i class="material-icons">date_range</i></a></li>
          <li class="tab"><a href="#personal-trip"><i class="material-icons">assignment_ind</i></a></li>
        </ul>
      </div>
      <div class="card-content teal lighten-5">
        <div id="vehicle">
          <div class="row">
            <div class="col s4">
              <label>Placa:</label>
              <p>JLH6048</p>
            </div>
            <div class="col s4">
              <label>Marca:</label>
              <p>VW</p>
            </div>
            <div class="col s4">
              <label>Tipo:</label>
              <p>GOL</p>
            </div>
            <div class="col s4">
              <label>Modelo:</label>
              <p>2014</p>
            </div>
            <div class="col s4">
              <label>No. Tarjeta:</label>
              <p>8596</p>
            </div>
            <div class="col s4">
              <label>Capacidad:</label>
              <p>55.00 lts</p>
            </div>
            <div class="col s4">
              <label>Rendimiento</label>
              <p>13.00 km/l</p>
            </div>
            <div class="col s4">
              <label>Lineas por tanque</label>
              <p>16</p>
            </div>
            <div class="col s4">
              <label>Litros por linea</label>
              <p>3.44 lts</p>
            </div>
            <div class="col s4">
              <label>Combustible</label>
              <p>Magna</p>
            </div>
            <div class="col s4">
              <label>IAVE</label>
              <p>N/A</p>
            </div>
          </div>
        </div><!--/aquí termina el contenido de un tab-->
        <div id="performance">
        <div class="row">
          <div class="input-field col s6 m4">
            <input id="gas-price" type="number" class="validate">
            <label for="gas-price">*Precio gasolina</label>
          </div>
          <div class="input-field col s6 m4">
            <input id="gas-consumed" type="number" class="validate">
            <label for="gas-consumed">Gasolina consumida (lts)</label>
          </div>
          <div class="input-field col s6 m4">
            <input id="marca" type="number" class="validate">
            <label for="marca">Gasolina Consumina ($)</label>
          </div>
          <div class="input-field col s6 m4">
            <input id="gas-price" type="number" class="validate">
            <label for="gas-price">Km Recorridos</label>
          </div>
          <div class="input-field col s6 m4">
            <input id="gas-consumed" type="number" class="validate">
            <label for="gas-consumed">Rendimiento obtenido</label>
          </div>
          <div class="input-field col s6 m4">
            <input id="marca" type="number" class="validate">
            <label for="marca">Consumo casteas ($)</label>
          </div>
        </div>

        <div class="card z-depth-0">
          <div class="card-image">
            <form>
            <div class="row">
              <div class="col s4">
                <div class="input-field">
                  <input id="litters" type="number" class="validate">
                  <label for="litters">Litros</label>
                </div>
              </div>
              <div class="col s4">
                <div class="input-field">
                  <input id="gas-price-din" type="number" class="validate">
                  <label for="gas-price-din">Precio</label>
                </div>
              </div>
              <div class="col s4">
                <div class="input-field">
                  <input id="import-final" type="number" class="validate">
                  <label for="import-final">Importe</label>
                </div>
              </div>
            </div><!--/row-->
            <button class="btn-floating btn-large orange halfway-fab waves-effect waves-light tooltipped" data-position="bottom" data-delay="50" data-tooltip="Agregar" type="submit"><i class="material-icons">add</i></button>
            </form><!--/Here ends de form-->
            <div class="divider"></div>
          </div><!--/Here ends the up section-->
          <div class="card-content">
            <table class="responsive-table highlight">
              <thead>
                <tr>
                  <th>Litros</th>
                  <th>Precio</th>
                  <th>Importe</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>              
                <tr>
                  <td>123</td>
                  <td>$123.23</td>
                  <td>$1234.56</td>
                  <td>
                    <a class="eliminar btn btn_tables waves-effect btn-flat" href="#"><i class="material-icons">delete</i></a>
                  </td>
                </tr>
                <tr>
                  <td>123</td>
                  <td>$123.23</td>
                  <td>$1234.56</td>
                  <td>
                    <a class="eliminar btn btn_tables waves-effect btn-flat" href="#"><i class="material-icons">delete</i></a>
                  </td>
                </tr> 
              </tbody>
            </table>
          </div><!--/here ends de down section-->
        </div>
          
        </div><!--/aquí termina el contenido de un tab-->
        <div id="data-overall">
          <div class="row">
            <div class="input-field col s6 m4">
              <input id="lines-start" type="number" class="validate">
              <label for="lines-start">*Lineas iniciales</label>
            </div>
            <div class="input-field col s6 m4">
              <input id="import-card" type="number" class="validate">
              <label for="import-card">*Importe tarjeta</label>
            </div>
            <div class="input-field col s6 m4">
              <input id="import-iave" type="number" class="validate">
              <label for="import-iave">*Importe IAVE</label>
            </div>
            <div class="col s6 m4">
              <label>*Fecha salida:</label>
              <input type="date" class="datepicker">
            </div>
            <div class="col s6 m4">
              <label>*Hora salida:</label>
              <input type="time" class="timepicker">
            </div>
            <div class="input-field col s6 m4">
              <input id="km-start" type="number" class="validate">
              <label for="km-start">*Kilometraje inicial</label>
            </div>
          </div>
        </div><!--/aquí termina el contenido de un tab-->
        <div id="personal-trip" class="row">
          <div class="input-field col s6">
            <select multiple>
              <option value="" disabled selected>Selecciona...</option>
              <option value="1">Option 1</option>
              <option value="2">Option 2</option>
              <option value="3">Option 3</option>
            </select>
            <label>Gastos viaje</label>
          </div>
          <div class="col s6">
          <label>Zona</label> 
            <select>
              <option value="" disabled selected>Selecciona...</option>
              <option value="1">Option 1</option>
              <option value="2">Option 2</option>
              <option value="3">Option 3</option>
            </select>
          </div>
          <div class="input-field col s6">
            <input id="lines-start" type="number" class="validate">
            <label for="lines-start">Bono conductor</label>
          </div>
          <div class="input-field col s6">
            <input id="import-card" type="number" class="validate">
            <label for="import-card">Bono ayudante</label>
          </div>
        </div><!--/aquí termina el contenido de un tab-->
      </div>
    </div>
  <div class="input-field col s12">
    <textarea id="textarea1" class="materialize-textarea"></textarea>
    <label for="textarea1">Observaciones</label>
  </div>
  </div><!--/col-s12 m7-->
</div><!--/row-->
 
<!--Import jQuery before materialize.js-->
<!--Script para hacer los datos ordenarse-->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>
<!--jquery de dateTables creados-->
<script type="text/javascript" src="../js/initiateComponents.js"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places"></script>
<script type="text/javascript">
function initMap() {
  var map = new google.maps.Map(document.getElementById('map'), {
    center: {
      lat: 20.654554,
      lng: -103.447691
    },
    zoom: 15
  });
  var input = document.getElementById('pac-input');

  //var types = document.getElementById('type-selector');
  map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
  //map.controls[google.maps.ControlPosition.TOP_LEFT].push(types);

  var autocomplete = new google.maps.places.Autocomplete(input);
  autocomplete.bindTo('bounds', map);

  var infowindow = new google.maps.InfoWindow();
  var marker = new google.maps.Marker({
    map: map,
    anchorPoint: new google.maps.Point(0, -29)
  });
  
  google.maps.event.addDomListener(input, 'keydown', function(e) {
    if ($(".pac-item-selected").length == 0) {
      if (e.keyCode === 13 && !e.triggered) {
        google.maps.event.trigger(this, 'keydown', {
          keyCode: 40
        });
        google.maps.event.trigger(this, 'keydown', {
          keyCode: 13,
          triggered: true
        });
      }
    }
  });
  
  /*document.addEventListener("keydown", function(event) {
    if(event.which == 13) {
      event.preventDefault();
      var place = autocomplete.getPlace();
        console.log($(".pac-item").length);
    }
  });*/

  autocomplete.addListener('place_changed', function() {
    infowindow.close();
    marker.setVisible(false);
    var place = autocomplete.getPlace();
    if (!place.geometry) {
      window.alert("Sorry, that location could not be found. Please select a suggested option from the dropdown.");
      return;
    }

    // If the place has a geometry, then present it on a map.
    if (place.geometry.viewport) {
      //map.fitBounds(place.geometry.viewport);
      map.setCenter(place.geometry.location);
      map.setZoom(14);
    } else {
      map.setCenter(place.geometry.location);
      map.setZoom(14);
    }
    marker.setIcon({
      url: place.icon,
      size: new google.maps.Size(71, 71),
      origin: new google.maps.Point(0, 0),
      anchor: new google.maps.Point(17, 34),
      scaledSize: new google.maps.Size(35, 35)
    });
    marker.setPosition(place.geometry.location);
    marker.setVisible(true);

    var address = '';
    if (place.address_components) {
      address = [
        (place.address_components[0] && place.address_components[0].short_name || ''),
        (place.address_components[1] && place.address_components[1].short_name || ''),
        (place.address_components[2] && place.address_components[2].short_name || '')
      ].join(' ');
    }
    
    console.log("Name: " + place.name)
    console.log("Lat: " + place.geometry.location.lat())
    console.log("Lng: " + place.geometry.location.lng())
    console.log(place.formatted_address);

    infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);
    infowindow.open(map, marker);
  });
  // Sets a listener on a radio button to change the filter type on Places
  // Autocomplete.
  /*function setupClickListener(id, types) {
    var radioButton = document.getElementById(id);
    radioButton.addEventListener('click', function() {
      autocomplete.setTypes(types);
    });
  }*/

  setupClickListener('changetype-all', []);
  setupClickListener('changetype-address', ['address']);
  setupClickListener('changetype-establishment', ['establishment']);
  setupClickListener('changetype-geocode', ['geocode']);
}

initMap();
</script>
</body>
</html>